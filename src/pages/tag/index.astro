---
import DefaultLayout from '~/layouts/Default.astro'
import PostTag from '~/components/PostTag.astro'
import { getPostEntries, getPostTagsMap } from '~/utils/post'

const postEntries = await getPostEntries('blog')

const tagsMap = getPostTagsMap(postEntries)
---

<DefaultLayout>
  <ul class="w-full min-h-full flex flex-row flex-wrap content-center justify-center items-center gap-4">
    {Object.entries(tagsMap).map(([tag, entries]) => (
      <PostTag tag={tag} count={entries.length} />
    ))}
  </ul>
</DefaultLayout>
